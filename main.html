<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KS Bank</title>
    <link rel="stylesheet" href="style.css">

    <link rel="icon" href="./ks logo.jpeg">

     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" 
    integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" 
    crossorigin="anonymous" referrerpolicy="no-referrer"/>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
</head>
<body>
<div id="toast-deposit" class="toast-deposit">Amount Deposited <i class="bi bi-check-circle"></i></div>
<div id="toast-transfer" class="toast-transfer">Transaction Successful <i class="bi bi-check-circle"></i></div>

    <div class="container">

        
<!--------------------------------------Heading section here---------------------------------------------->
        <div class="heading">

           <img src="./ks logo.jpeg" alt=""><span>KS Bank</span>
           
            <button class="hamburger" id="menuToggle"><i class="bi bi-list"></i></button>


            <!-- Sidebar (Right) -->
  <div class="sidebar" id="sidebar">
    <div class="sidebar-heading">
        <img src="./profile.svg" alt=""> 
    <h2>Kishore Kumar</h2>
    </div>
    
    <ul>
      <li>Profile <i class="bi bi-person"></i></li>
      <li>Notifications <i class="bi bi-bell"></i></li>
      <li>Help & Support <i class="bi bi-info-circle"></i></li>
      <li>Contact us <i class="bi bi-telephone"></i></li>
      <li>Forgot MPIN <i class="bi bi-key-fill"></i></li>
      <li>Logout <i class="bi bi-box-arrow-right"></i></li>
    </ul>

  </div>

  <!-- Overlay -->
  <div class="overlay" id="overlay"></div>



        </div>



<!--------------------------------------balance section ends here---------------------------------------------->
       <div class="balance">

            <img src="./savings.jpeg" alt="">

            <h1>Savings</h1>
            <p>9966588051</p>

            <button id="balanceDisplay">View Balance</button>
        </div>
<!--------------------------------------Quick access section here-------------------------------------------------->

<div class="access">
    <h1>Quick Access</h1>

       <div class="item-container">
         <div class="item">
            <button id="openDepositModal" class="btn-deposit">
    <img src="./bank-business-tools-piggy-svgrepo-com.svg" alt="">
    <h2>Deposit</h2>
</button>

           

        </div>


        <div class="item">
           <!-- Transfer Money Button -->
            <button id="openTransferModal" class="btn-transfer" >
                <img src="./transfer money.svg" alt="">
                <h2>Transfer Money</h2>
            </button>


        </div>
        <div class="item">
            <button>

                    <img src="./show card.svg" alt="">
                    <h2>Show Card</h2>
            </button>
        </div>
        <div class="item">
            <button id="openHistoryModal" class="btn-history">

                    <img src="./transactions.svg" alt="">
                    <h2>Transactions</h2>
                    
            </button>

        </div>
       </div>
</div>



<!-- Deposit Modal -->
<div id="depositModal" class="modal">
    <div class="modal-content">
        <span class="close close-deposit">&times;</span>
        <h3>Deposit Money</h3>
        <input type="number" id="depositAmount" placeholder="Enter amount to deposit">
        <button id="depositBtn" onclick="showToast()">Deposit</button>
    </div>
</div>

<!-- Transfer Modal -->
<div id="transferModal" class="modal">
    <div class="modal-content">
        <span class="close close-transfer">&times;</span>
        <h3>Transfer Money</h3>
        <input type="text" id="transferToAccount" placeholder="Enter 10-digit account number" maxlength="10">
        <input type="number" id="transferAmount" placeholder="Enter amount to transfer">

        <button id="transferBtn" onclick="showToast_transfer()">Transfer</button>
    </div>
</div>

<!-- Transaction History Modal -->
<div id="historyModal" class="modal">
    <div class="modal-content">
        <span class="close close-history">&times;</span>
        <h3>Transaction History</h3>
        <ul id="transactionHistory"></ul>
    </div>
</div>
<!------------------------------------Add images section here------------------------------------------->

<div class="slider">
    <div class="slides">
        <img src="./image-1.jpg" class="slide" alt="Image 1">
        <img src="./image-2.jpg" class="slide" alt="Image 2">
        <img src="./image-3.jpg" class="slide" alt="Image 3">
        <img src="./image-4.jpg" class="slide" alt="Image 4">
       
    </div>

    <div class="dots-container">
        <span class="dot active"></span>
        <span class="dot active"></span>
        <span class="dot active"></span>
        <span class="dot active"></span>
        
    </div>
</div>

<!-----------------------------------------Bank section here---------------------------------------------->


        <div class="bank">
            <h1>Bank</h1>

            <div class="bank-container">
         <div class="item">
            <button>

                    <img src="./ks logo.jpeg" alt="">
                    <h2>KS Bank</h2>
            </button>

        </div>
        <div class="item">
            <button>

                    <img src="./account overview.svg" alt="">
                    <h2>Account Overview</h2>
            </button>

        </div>
        <div class="item">
            <button>

                    <img src="./activity.svg" alt="">
                    <h2>Account Activity</h2>
            </button>
        </div>
        <div class="item">
            <button>

                    <img src="./statement.svg" alt="">
                    <h2>Statement</h2>
            </button>

        </div>


        
       </div>
    </div>

<!-----------------------------------------pay and transfer section here---------------------------------------------->

 <div class="transfer">
            <h1>Pay & Transfer</h1>

            <div class="transfer-container">
         <div class="item">
            <button>

                    <img src="./transfer money.svg" alt="">
                    <h2>Transfer Money</h2>
            </button>

        </div>
        <div class="item">
            <button>

                    <img src="./bhim-upi.svg" alt="">
                    <h2>BHIM UPI</h2>
            </button>

        </div>
        <div class="item">
            <button>

                    <img src="./conatct.svg" alt="">
                    <h2>Pay your contact</h2>
            </button>
        </div>
        <div class="item">
            <button>

                    <img src="./mobile recharge.svg" alt="">
                    <h2>Mobile Recharge</h2>
            </button>

        </div>


        
       </div>
    </div>





 
<!-----------------------------------------loans section here---------------------------------------------->

 <div class="loans">
            <h1>Loans</h1>

            <div class="loans-container">
         <div class="item">
            <button>

                    <img src="./personal loan.svg" alt="">
                    <h2>Personal Loan</h2>
            </button>

        </div>
        <div class="item">
            <button>

                    <img src="./home loan.svg" alt="">
                    <h2>Home Loan</h2>
            </button>

        </div>
        <div class="item">
            <button>

                    <img src="./car loan.svg" alt="">
                    <h2>Car Loan</h2>
            </button>
        </div>
        <div class="item">
            <button>

                    <img src="./service request.svg" alt="">
                    <h2>Loan Service Request</h2>
            </button>

        </div>


        
       </div>
    </div>   



     
<!-----------------------------------------insurance section here---------------------------------------------->

 <div class="insure">
            <h1>Insurance</h1>

            <div class="insure-container">
         <div class="item">
            <button>

                    <img src="./hospital insurance.svg" alt="">
                    <h2>Hospital Daily cash plan</h2>
            </button>

        </div>
        <div class="item">
            <button>

                    <img src="./accident.svg" alt="">
                    <h2>Accident Protection</h2>
            </button>

        </div>
        <div class="item">
            <button>

                    <img src="./cyber.svg" alt="">
                    <h2>Cyber Insurance</h2>
            </button>
        </div>
        <div class="item">
            <button>

                    <img src="./policy.svg" alt="">
                    <h2>My Policies</h2>
            </button>

        </div>


        
       </div>
    </div>   
<p class="copy-rights"> <i class="bi bi-c-circle"></i> KS Bank 2025. All rights reserved.</p>
</div>



<!-----------------------------------------Scripting section here------------------------------------------->

  <script>
    const toggleBtn = document.getElementById('menuToggle');
    const sidebar = document.getElementById('sidebar');
    const overlay = document.getElementById('overlay');

    toggleBtn.addEventListener('click', () => {
      sidebar.classList.toggle('active');
      overlay.classList.toggle('active');
    });

    overlay.addEventListener('click', () => {
      sidebar.classList.remove('active');
      overlay.classList.remove('active');
    });
  </script>



<!-----------------------------Images slider Script section here----------------------->
<script>
            const slides = document.querySelectorAll('.slide');
            const dots = document.querySelectorAll('.dot');
            let index = 0;

            function showSlide(n) {
            slides.forEach((slide, i) => {
                slide.classList.remove('active');
                dots[i].classList.remove('active');
            });

            slides[n].classList.add('active');
            dots[n].classList.add('active');
            }

            function autoSlide() {
            index = (index + 1) % slides.length;
            showSlide(index);
            }

            setInterval(autoSlide, 2000); // Change image every 3 seconds

            // Initialize first slide
            showSlide(index);

</script>



<script>
    // Elements
const balanceDisplay = document.getElementById("balanceDisplay");
const transactionHistoryList = document.getElementById("transactionHistory");



let balance = parseFloat(localStorage.getItem("userBalance")) || 0;
let transactions = JSON.parse(localStorage.getItem("transactions")) || [];

// Update UI on load
updateBalanceDisplay();
renderTransactionHistory();

// ---------- MODALS ----------
function setupModal(openBtnId, modalId, closeClass) {
    const openBtn = document.getElementById(openBtnId);
    const modal = document.getElementById(modalId);
    const closeBtn = modal.querySelector("." + closeClass);

    openBtn.onclick = () => modal.style.display = "block";
    closeBtn.onclick = () => modal.style.display = "none";
    window.onclick = (e) => { if (e.target === modal) modal.style.display = "none"; };
}

// Setup all modals
setupModal("openDepositModal", "depositModal", "close-deposit");
setupModal("openTransferModal", "transferModal", "close-transfer");
setupModal("openHistoryModal", "historyModal", "close-history");

// ---------- Deposit ----------
document.getElementById("depositBtn").onclick = () => {
    const amount = parseFloat(document.getElementById("depositAmount").value);
    if (!isNaN(amount) && amount > 0) {
        balance += amount;
        saveBalance();
        saveTransaction(`Deposited ₹${amount.toFixed(2)}`);
        document.getElementById("depositAmount").value = "";
        document.getElementById("depositModal").style.display = "none";
        showToast_deposit();
    } else {
        alert("Enter a valid amount to deposit.");
    }
};

// ---------- Transfer ----------
document.getElementById("transferBtn").onclick = () => {
    const amount = parseFloat(document.getElementById("transferAmount").value);
    const account = document.getElementById("transferToAccount").value.trim();

  document.getElementById("transferToAccount").addEventListener("input", (e) => {
    // Allow only digits and limit to 10 characters
    e.target.value = e.target.value.replace(/\D/g, "").slice(0, 10);

    // Automatically move focus to the next input
    if (e.target.value.length === 10) {
        document.getElementById("transferAmount").focus();
    }
});


    if (!account || isNaN(amount) || amount <= 0) {
        alert("Please enter a valid account number and amount.");
        return;
    }

    if (balance >= amount) {
        balance -= amount;
        saveBalance();

        saveTransaction(`Transferred ₹${amount.toFixed(2)} to ${account}`);
        
        // Reset fields and close modal
        document.getElementById("transferAmount").value = "";
        document.getElementById("transferToAccount").value = "";
        document.getElementById("transferModal").style.display = "none";

        showToast_transfer();

       

        if (balance < 100) {
            alert("⚠️ Warning: Low balance!");
        }
    } else {
        alert("Insufficient balance.");
    }


};




// ---------- Helpers ----------
function updateBalanceDisplay() {
    balanceDisplay.textContent = `Balance: ₹${balance.toFixed(2)}`;
}

function saveBalance() {
    localStorage.setItem("userBalance", balance.toFixed(2));
    updateBalanceDisplay();
}

function saveTransaction(text) {
    const now = new Date();
    const entry = {
        description: text,
        timestamp: formatCustomDate(now)
    };
    transactions.unshift(entry);
    if (transactions.length > 10) transactions.pop();
    localStorage.setItem("transactions", JSON.stringify(transactions));
    renderTransactionHistory();
}


function renderTransactionHistory() {
    transactionHistoryList.innerHTML = "";
    transactions.forEach(({ description, timestamp }) => {
        const li = document.createElement("li");
        li.innerHTML = `
            <span class="desc">${description}</span>
            <br>
            <span class="time">${timestamp}</span>
        `;
        transactionHistoryList.appendChild(li);

    


        if (description.includes("Transferred")) {
            li.style.color = "red";
        } else if (description.includes("Deposited")) {
            li.style.color = "green";
        }

    
    });
}



function formatCustomDate(date) {
    const day = String(date.getDate()).padStart(2, '0');
    const monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun",
                        "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
    const month = monthNames[date.getMonth()];
    const year = date.getFullYear();

    let hours = date.getHours();
    const minutes = String(date.getMinutes()).padStart(2, '0');
    const ampm = hours >= 12 ? "PM" : "AM";
    hours = hours % 12 || 12;

    return `${day} ${month} ${year} - ${hours}:${minutes} ${ampm}`;
   


}



</script>



<script>
    function showToast_deposit() {
  const toast = document.getElementById("toast-deposit");
  toast.classList.add("show");
  setTimeout(() => {
    toast.classList.remove("show");
  }, 3000);
}


</script>

<script>
    function showToast_transfer() {
  const toast = document.getElementById("toast-transfer");
  toast.classList.add("show");
  setTimeout(() => {
    toast.classList.remove("show");
  }, 3000);
}


</script>



</body>
</html>
